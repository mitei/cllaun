print("--- Config: default.cllaun_conf");

// Skin-api test
skin.read("test_skin");

// Global-Shortcut-api test
shortcut['Ctrl+Alt+Space'] = window.show;

// (Widget-)Shortcut-api test
commandLine.shortcut['Ctrl+G'] = function() {
    commandLine.text = "Ctrl+G";
    commandLine.selectAll();
};

// Plugin-command test
Launcher.commands['exit'] = function() {
    exit();
};
Launcher.commands['eval'] = function(script_str) {
    eval(script_str);
};

// Alias-api test
Launcher.aliases['quit'] = ':exit';

// signal-slot test
commandLine.returnPressed.connect(commandLine, function() {
    this.selectAll();
    window.hide();
    var cmd = Parser.parse(this.text);
    Launcher.run(cmd);
});
commandLine.textChanged.connect(commandLine, function() {
    var cmd = Parser.parse(this.text.substr(0, this.cursorPosition));
    var candidates;
    if (cmd.args.length > 0) {
        candidates = Launcher.list(cmd.args[cmd.args.length - 1]);
    } else {
        candidates = Launcher.list(cmd.name);
    }
    print('onCursorPositionChanged: ' + candidates.toString());
});

window.move(300, 300);
window.show();

// Plugin-api test
plugin.importAll();

print("--- /Config: default.cllaun_conf");
